<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7 Citrine Interior</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.slim.js" integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        @media print {
            .bod, .backk, .CON {
                background-color: black !important;
                -webkit-print-color-adjust: exact; /* For WebKit browsers */
                print-color-adjust: exact; /* For other browsers */
            }
            /* Hide other elements that shouldn't be printed */
            .Add, .btn { display: none; }
    
            /* Hide table borders */
            table, th, td {
                border: none !important; /* Ensure no borders are shown */
            }
    
            /* Hide input borders */
            tbody input {
                border: none !important; 
                background: none !important; 
                box-shadow: none !important; 
                font-size: 25px; /* Adjust font size here */
            }
    
            th {
                background: none !important; 
                font-size: 18px;
            }
            
            table {
                font-size: 25px; /* Adjust font size for table cells */
            }
            
            .action { display: none; }
            h2, h3, p { 
                font-size: 25px; /* Adjust font size for headings and paragraphs */
            }
        }
    </style>
    
    
</head>
<body>    <div class="main">
        <div class="backk">
            <div class="bod">
                <div class="CON">
                    <i class="fa-solid fa-phone"></i> <label for="phone1">+91 8806 8806 17</label><br><br>
                    <i class="fa-solid fa-phone"></i> <label for="phone2">+91 9923 1514 69</label><br><br>
                    <i class="fa-solid fa-envelope"></i> <label for="email">7citrineinterior@gmail.com</label><br><br>
                    <i class="fa-solid fa-location-dot"></i> <label for="address">OPP.SHOBHA CARNATION H&M ROYAL LANE,<br> TALAB KONDWHA,PUNE-48</label>
                </div>
                <img src="WhatsApp Image 2024-09-23 at 9.42.52 PM.jpeg" alt="Company Image">
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2>
                    <select class="form-select" id="invoice-type">
                        <option value="Estimate">Estimate</option>
                        <option value="Invoice">Invoice</option>
                    </select>
                </h2>
            </div>

            <!-- Bill Details -->
            <div class="row mt-3">
                <div class="col-md-6">
                    <label for="bill">BILL NUMBER:</label>
                    <input type="text" placeholder="Please enter bill number..." required id="bill" class="form-control">
                </div>
                <div class="col-md-6">
                    <label for="date">Date:</label>
                    <input type="date" id="date" class="form-control">
                </div>
            </div>

            <div class="row mt-2">
                <div class="col-md-12">
                    <label for="csna">CUSTOMER NAME:</label>
                    <input type="text" placeholder="Name..." required id="csna" class="form-control">
                </div>
            </div>

            <!-- Invoice Table -->
            <div class="card">
                <div class="card-body">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th scope="col">SR.NO</th>
                                <th scope="col">Item Name</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Rate</th>
                                <th scope="col">Amount</th>
                                <th scope="col"></th>
                            </tr>
                        </thead>
                        <tbody id="Tbodyy">
                            <tr id="Trow" class="d-none">
                                <th scope="row"></th>
                                <td><input type="text" class="form-control"></td>
                                <td><input type="number" class="form-control" name="Quantity" min="0" onchange="Cal(this)"></td>
                                <td><input type="number" class="form-control" name="Rate" min="0" onchange="Cal(this)"></td>
                                <td><input type="number" class="form-control" name="Amount" readonly></td>
                                <td><button type="button" class="btn btn-danger" onclick="btndel(this)">X</button></td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Total, Advance, Balance -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="input-group mb-3">
                                <span class="input-group-text">Total</span>
                                <input type="text" id="ftotal" class="form-control" readonly>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group mb-3">
                                <span class="input-group-text">Advance</span>
                                <input type="number" id="advance" class="form-control" value="0" onchange="GetBalance()">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="input-group mb-3">
                                <span class="input-group-text">Balance</span>
                                <input type="text" id="balance" class="form-control" readonly>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="btnadd()">Add Item</button>
                    <button class="btn btn-secondary" onclick="GetPrint()">Print</button>
                </div>
            </div>

            <!-- Terms and Conditions -->
            <div class="mt">
                <h3>Terms & Conditions:</h3>
                <p id="text">
                    1. Advance payment of 50% should be paid as work is confirmed.<br>
                    2. After receiving 50% advance payment in early daytime, material will be dispatched on the same day.<br>
                    3. Balance payment should be paid as per demand for further work.<br>
                    4. Estimated amount may vary as per actual work done.<br>
                    5. Extra work will incur additional costs.<br>
                    6. Final payment should be made on the day of work completion.<br>
                    7. Rates may vary according to changes in material costs from the estimate date.
                </p>
            </div>
            <div class="text">
                <h3>Thank you for doing business with us</h3>
            </div>
            <h3 id="text3">7 Citrine Interior</h3>

            <script>
                (function() {
                    function GetPrint() {
                        window.print();
                    }
            
                    function btnadd() {
                        var v = $("#Trow").clone().removeClass("d-none").appendTo("#Tbodyy");
                        $(v).find("input").val(''); // Clear input values
                        updateSerialNumbers(); // Update serial numbers for all rows
                        GetTotal(); // Recalculate total
                    }
            
                    function btndel(v) {
                        $(v).closest('tr').remove();
                        GetTotal();
                        updateSerialNumbers(); // Update serial numbers after deletion
                    }
            
                    function updateSerialNumbers() {
                        $('#Tbodyy tr').each(function(index) {
                            $(this).find('th').first().text(index + 0); // Serial number starts from 1
                        });
                    }
            
                    function Cal(v) {
                        var index = $(v).closest('tr').index();
                        var Quantity = parseFloat(document.getElementsByName("Quantity")[index].value) || 0;
                        var Rate = parseFloat(document.getElementsByName("Rate")[index].value) || 0;
                        var Amount = Quantity * Rate;
                        document.getElementsByName("Amount")[index].value = Amount.toFixed(2);
                        GetTotal();
                    }
            
                    function GetTotal() {
                        var sum = 0;
                        var Amounts = document.getElementsByName("Amount");
                        for (let index = 0; index < Amounts.length; index++) {
                            var Amount = parseFloat(Amounts[index].value) || 0;
                            sum += Amount;
                        }
                        document.getElementById("ftotal").value = sum.toFixed(2);
                        GetBalance(); // Update balance when total changes
                    }
            
                    function GetBalance() {
                        var total = parseFloat(document.getElementById("ftotal").value) || 0;
                        var advance = parseFloat(document.getElementById("advance").value) || 0;
                        var balance = total - advance;
                        document.getElementById("balance").value = balance.toFixed(2);
                    }
            
                    // Expose functions globally
                    window.GetPrint = GetPrint;
                    window.btnadd = btnadd;
                    window.btndel = btndel;
                    window.Cal = Cal;
                    window.GetBalance = GetBalance;
                })();



              

    function GetPDF() {
        const element = document.querySelector('.main');
        html2pdf()
            .from(element)
            .save('invoice.pdf');
    }


            </script>
        </div>
    </div>
</body>
</html>